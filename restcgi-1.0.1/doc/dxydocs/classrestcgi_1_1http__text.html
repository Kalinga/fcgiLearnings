<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>restcgi: restcgi::http_text Class Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.4.7 -->
<div class="tabs">
  <ul>
    <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
    <li><a href="namespaces.html"><span>Namespaces</span></a></li>
    <li id="current"><a href="annotated.html"><span>Classes</span></a></li>
    <li><a href="files.html"><span>Files</span></a></li>
  </ul></div>
<div class="tabs">
  <ul>
    <li><a href="annotated.html"><span>Class&nbsp;List</span></a></li>
    <li><a href="hierarchy.html"><span>Class&nbsp;Hierarchy</span></a></li>
    <li><a href="functions.html"><span>Class&nbsp;Members</span></a></li>
  </ul></div>
<div class="nav">
<a class="el" href="namespacerestcgi.html">restcgi</a>::<a class="el" href="classrestcgi_1_1http__text.html">http_text</a></div>
<h1>restcgi::http_text Class Reference</h1><!-- doxytag: class="restcgi::http_text" --><a href="classrestcgi_1_1http__text-members.html">List of all members.</a><hr><a name="_details"></a><h2>Detailed Description</h2>
HTTP/1.1 specification "TEXT". 
<p>
Notes:<ol>
<li>
Meant to be human readable, i.e. CTL chars not valid. </li>
<li>
There is no "encoding"/"decoding" of the TEXT string (<a class="el" href="classrestcgi_1_1http__text.html#da2b4038f8f4ceb2dcca538e691f8850">encoding()</a> method included for consistency). The concept simply restricts the chars allowed in the string. </li>
<li>
On construction, LWS is compressed to a single space char. Note that this is irreversible, encoding does not put the LWS back in. </li>
</ol>
<p>
Syntax (see <a class="el" href="classrestcgi_1_1http__token.html">http_token</a> for additional definitions): <pre>
 OCTET         = &lt;any 8-bit sequence of data&gt;
 TEXT          = &lt;any OCTET except CTLs, but including LWS&gt;
 LWS           = [CRLF] 1*( SP | HT )
 CRLF          = CR LF
 CR            = &lt;US-ASCII CR, carriage return (13)&gt;
 LF            = &lt;US-ASCII LF, linefeed (10)&gt;
 </pre> <dl compact><dt><b>See also:</b></dt><dd><a class="el" href="classrestcgi_1_1http__token.html">http_token</a>, <a class="el" href="classrestcgi_1_1http__word.html">http_word</a> <p>
<a href="http://www.w3.org/Protocols/rfc2616/rfc2616-sec2.html#sec22">http://www.w3.org/Protocols/rfc2616/rfc2616-sec2.html#sec22</a> </dd></dl>

<p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classrestcgi_1_1http__text.html#a1fa8d6c3728d9d0b892817e3d21fb03">http_text</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classrestcgi_1_1http__text.html#8d1839ca41253fe6aef1499a26c667f2">http_text</a> (const std::string &amp;s)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="59487b1d55e06599c4b4e64c26785ec5"></a><!-- doxytag: member="restcgi::http_text::empty" ref="59487b1d55e06599c4b4e64c26785ec5" args="() const " -->
bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classrestcgi_1_1http__text.html#59487b1d55e06599c4b4e64c26785ec5">empty</a> () const </td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Test empty. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="0b296242ee1ef478a9161d0ad236a7a5"></a><!-- doxytag: member="restcgi::http_text::string" ref="0b296242ee1ef478a9161d0ad236a7a5" args="() const " -->
const std::string &amp;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classrestcgi_1_1http__text.html#0b296242ee1ef478a9161d0ad236a7a5">string</a> () const </td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Get string. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">const std::string &amp;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classrestcgi_1_1http__text.html#da2b4038f8f4ceb2dcca538e691f8850">encoding</a> () const </td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="classrestcgi_1_1http__text.html">http_text</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classrestcgi_1_1http__text.html#54db53ff221a88ff47aee1a8679aa047">operator+</a> (const std::string &amp;rhs) const </td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="classrestcgi_1_1http__text.html">http_text</a> &amp;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classrestcgi_1_1http__text.html#b82a0a49c5622231776988a19112a3d9">operator+=</a> (const std::string &amp;rhs)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="0cd699d15dc6ff758ba1453dd7a24e06"></a><!-- doxytag: member="restcgi::http_text::operator+" ref="0cd699d15dc6ff758ba1453dd7a24e06" args="(const http_text &amp;rhs) const " -->
<a class="el" href="classrestcgi_1_1http__text.html">http_text</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classrestcgi_1_1http__text.html#0cd699d15dc6ff758ba1453dd7a24e06">operator+</a> (const <a class="el" href="classrestcgi_1_1http__text.html">http_text</a> &amp;rhs) const </td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Append text and return result. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="80c6fe8588850754c26e5efe556c6a37"></a><!-- doxytag: member="restcgi::http_text::operator+=" ref="80c6fe8588850754c26e5efe556c6a37" args="(const http_text &amp;rhs)" -->
<a class="el" href="classrestcgi_1_1http__text.html">http_text</a> &amp;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classrestcgi_1_1http__text.html#80c6fe8588850754c26e5efe556c6a37">operator+=</a> (const <a class="el" href="classrestcgi_1_1http__text.html">http_text</a> &amp;rhs)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Append text to this and return this. <br></td></tr>
<tr><td colspan="2"><br><h2>Static Public Attributes</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="b960bfe9db4ee09b3423d8560e08a412"></a><!-- doxytag: member="restcgi::http_text::ctypes_" ref="b960bfe9db4ee09b3423d8560e08a412" args="[256]" -->
static const char&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classrestcgi_1_1http__text.html#b960bfe9db4ee09b3423d8560e08a412">ctypes_</a> [256]</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">valid chars (1=non space, 2=space) <br></td></tr>
<tr><td colspan="2"><br><h2>Friends</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">bool RESTCGI_API&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classrestcgi_1_1http__text.html#b5ba9b1a70c4ede304751d044ef80708">parse</a> (std::string::const_iterator &amp;first, std::string::const_iterator last, <a class="el" href="classrestcgi_1_1http__text.html">http_text</a> &amp;v, const char *terms, bool lastok)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Parse HTTP text.  <a href="#b5ba9b1a70c4ede304751d044ef80708"></a><br></td></tr>
</table>
<hr><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" name="a1fa8d6c3728d9d0b892817e3d21fb03"></a><!-- doxytag: member="restcgi::http_text::http_text" ref="a1fa8d6c3728d9d0b892817e3d21fb03" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">restcgi::http_text::http_text           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Construct. 
</div>
</div><p>
<a class="anchor" name="8d1839ca41253fe6aef1499a26c667f2"></a><!-- doxytag: member="restcgi::http_text::http_text" ref="8d1839ca41253fe6aef1499a26c667f2" args="(const std::string &amp;s)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">restcgi::http_text::http_text           </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&nbsp;</td>
          <td class="paramname"> <em>s</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Construct from string. <dl compact><dt><b>Exceptions:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>std::invalid_argument</em>&nbsp;</td><td>if string contains invalid chars </td></tr>
  </table>
</dl>

</div>
</div><p>
<hr><h2>Member Function Documentation</h2>
<a class="anchor" name="da2b4038f8f4ceb2dcca538e691f8850"></a><!-- doxytag: member="restcgi::http_text::encoding" ref="da2b4038f8f4ceb2dcca538e691f8850" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const std::string&amp; restcgi::http_text::encoding           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"> const<code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Encoding, just returns string. 
</div>
</div><p>
<a class="anchor" name="54db53ff221a88ff47aee1a8679aa047"></a><!-- doxytag: member="restcgi::http_text::operator+" ref="54db53ff221a88ff47aee1a8679aa047" args="(const std::string &amp;rhs) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classrestcgi_1_1http__text.html">http_text</a> restcgi::http_text::operator+           </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&nbsp;</td>
          <td class="paramname"> <em>rhs</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"> const<code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Append (and check) string and return result. <dl compact><dt><b>Exceptions:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>std::invalid_argument</em>&nbsp;</td><td>if string contains invalid chars </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="b82a0a49c5622231776988a19112a3d9"></a><!-- doxytag: member="restcgi::http_text::operator+=" ref="b82a0a49c5622231776988a19112a3d9" args="(const std::string &amp;rhs)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classrestcgi_1_1http__text.html">http_text</a>&amp; restcgi::http_text::operator+=           </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&nbsp;</td>
          <td class="paramname"> <em>rhs</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Append (and check) string to this and return this. <dl compact><dt><b>Exceptions:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>std::invalid_argument</em>&nbsp;</td><td>if string contains invalid chars </td></tr>
  </table>
</dl>

</div>
</div><p>
<hr><h2>Friends And Related Function Documentation</h2>
<a class="anchor" name="b5ba9b1a70c4ede304751d044ef80708"></a><!-- doxytag: member="restcgi::http_text::parse" ref="b5ba9b1a70c4ede304751d044ef80708" args="(std::string::const_iterator &amp;first, std::string::const_iterator last, http_text &amp;v, const char *terms, bool lastok)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool RESTCGI_API parse           </td>
          <td>(</td>
          <td class="paramtype">std::string::const_iterator &amp;&nbsp;</td>
          <td class="paramname"> <em>first</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::string::const_iterator&nbsp;</td>
          <td class="paramname"> <em>last</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classrestcgi_1_1http__text.html">http_text</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>v</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>terms</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&nbsp;</td>
          <td class="paramname"> <em>lastok</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"><code> [friend]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Parse HTTP text. 
<p>
Returns whether found or not and advances first and sets v if found. LWS is compressed. If terms is specified it stops on any of those chars, i.e. on return <code>*first == &lt;term&gt;</code> (note that true is returned and v is empty if term is the first char). If last encountered before a term char and lastok is true, this returns all chars in interval. If terms not specified, this returns all chars in interval or up to first invalid char. 
</div>
</div><p>
<hr size="1"><address style="align: right;"><small>Generated on Mon May 18 16:03:19 2009 for restcgi by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.4.7 </small></address>
</body>
</html>
