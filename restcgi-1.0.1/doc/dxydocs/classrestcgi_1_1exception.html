<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>restcgi: restcgi::exception Class Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.4.7 -->
<div class="tabs">
  <ul>
    <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
    <li><a href="namespaces.html"><span>Namespaces</span></a></li>
    <li id="current"><a href="annotated.html"><span>Classes</span></a></li>
    <li><a href="files.html"><span>Files</span></a></li>
  </ul></div>
<div class="tabs">
  <ul>
    <li><a href="annotated.html"><span>Class&nbsp;List</span></a></li>
    <li><a href="hierarchy.html"><span>Class&nbsp;Hierarchy</span></a></li>
    <li><a href="functions.html"><span>Class&nbsp;Members</span></a></li>
  </ul></div>
<div class="nav">
<a class="el" href="namespacerestcgi.html">restcgi</a>::<a class="el" href="classrestcgi_1_1exception.html">exception</a></div>
<h1>restcgi::exception Class Reference</h1><!-- doxytag: class="restcgi::exception" --><p>Inheritance diagram for restcgi::exception:
<p><center><img src="classrestcgi_1_1exception.png" usemap="#restcgi::exception_map" border="0" alt=""></center>
<map name="restcgi::exception_map">
<area href="classrestcgi_1_1bad__request.html" alt="restcgi::bad_request" shape="rect" coords="207,56,404,80">
<area href="classrestcgi_1_1conflict.html" alt="restcgi::conflict" shape="rect" coords="207,112,404,136">
<area href="classrestcgi_1_1gone.html" alt="restcgi::gone" shape="rect" coords="207,168,404,192">
<area href="classrestcgi_1_1internal__server__error.html" alt="restcgi::internal_server_error" shape="rect" coords="207,224,404,248">
<area href="classrestcgi_1_1method__not__allowed.html" alt="restcgi::method_not_allowed" shape="rect" coords="207,280,404,304">
<area href="classrestcgi_1_1no__content.html" alt="restcgi::no_content" shape="rect" coords="207,336,404,360">
<area href="classrestcgi_1_1not__found.html" alt="restcgi::not_found" shape="rect" coords="207,392,404,416">
<area href="classrestcgi_1_1not__modified.html" alt="restcgi::not_modified" shape="rect" coords="207,448,404,472">
<area href="classrestcgi_1_1precondition__failed.html" alt="restcgi::precondition_failed" shape="rect" coords="207,504,404,528">
<area href="classrestcgi_1_1request__entity__too__large.html" alt="restcgi::request_entity_too_large" shape="rect" coords="207,560,404,584">
<area href="classrestcgi_1_1reset__content.html" alt="restcgi::reset_content" shape="rect" coords="207,616,404,640">
<area href="classrestcgi_1_1see__other.html" alt="restcgi::see_other" shape="rect" coords="207,672,404,696">
<area href="classrestcgi_1_1unauthorized.html" alt="restcgi::unauthorized" shape="rect" coords="207,728,404,752">
<area href="classrestcgi_1_1unsupported__media__type.html" alt="restcgi::unsupported_media_type" shape="rect" coords="207,784,404,808">
</map>
<a href="classrestcgi_1_1exception-members.html">List of all members.</a><hr><a name="_details"></a><h2>Detailed Description</h2>
Base class for throwing exceptions when processing HTTP methods. 
<p>
This has information about the HTTP status code so that exception responses can be automatically generated, see ctmpl. Note that not all exceptions are considered "errors", per se (e.g. not modified).<p>
This contains a map of name-value string pairs. Member data of derived classes are inserted into the map with the name the same as the accessor method with "exception_" prefixed, e.g. <a class="el" href="classrestcgi_1_1not__found.html">not_found</a> has a uri_path_rem() accessor method which will store the value under "exception_uri_path_rem". Application code can also store arbitrary variables for passing to the content template.<p>
Special variables are inserted into the map by the base exception class: <ul>
<li>
exception_status_code: e.g. "304 Not Modified" </li>
<li>
exception_errmsg: error message string. Note this is not set by all exceptions. </li>
<li>
exception_what: the <a class="el" href="classrestcgi_1_1exception.html#fe29703c19541b839f943b448f1953bc">what()</a> string (status code plus errmsg)</li>
</ul>
<dl compact><dt><b>See also:</b></dt><dd><a class="el" href="classrestcgi_1_1status__code__e.html">status_code_e</a>, <a class="el" href="classrestcgi_1_1ctmpl.html">ctmpl</a> </dd></dl>

<p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Public Types</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">typedef std::map&lt; std::string,<br>
 std::string &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classrestcgi_1_1exception.html#87e8267cf8b88c09e97b42461e524cdd">map_type</a></td></tr>

<tr><td colspan="2"><br><h2>Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classrestcgi_1_1exception.html#deedf85c1424a1a42030e99e60b2e140">exception</a> (const <a class="el" href="classrestcgi_1_1status__code__e.html">status_code_e</a> &amp;sc, const std::string &amp;errmsg=&quot;&quot;)  throw ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">const <a class="el" href="classrestcgi_1_1status__code__e.html">status_code_e</a> &amp;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classrestcgi_1_1exception.html#49e37ef0d9538570a5f0d536a552970f">status_code</a> () const   throw ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">const char *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classrestcgi_1_1exception.html#fe29703c19541b839f943b448f1953bc">what</a> () const   throw ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">const std::string &amp;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classrestcgi_1_1exception.html#22520e0cf2af78bd14de79ed54783a6c">errmsg</a> () const </td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classrestcgi_1_1exception.html#f0b8e37d3628c6bb5a8fdc72546eb5e1">inhibit_content</a> () const </td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="7cb4c2980bd36eda9c80650382d7e7fe"></a><!-- doxytag: member="restcgi::exception::map" ref="7cb4c2980bd36eda9c80650382d7e7fe" args="() const " -->
const <a class="el" href="classrestcgi_1_1exception.html#87e8267cf8b88c09e97b42461e524cdd">map_type</a> &amp;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classrestcgi_1_1exception.html#7cb4c2980bd36eda9c80650382d7e7fe">map</a> () const </td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Get const map. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="classrestcgi_1_1exception.html#87e8267cf8b88c09e97b42461e524cdd">map_type</a> &amp;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classrestcgi_1_1exception.html#a8f7a5ee2cf1148df93a582911288033">map</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classrestcgi_1_1exception.html#82a09ec4811808fbc7bcf065ce788397">insert</a> (const std::string &amp;name, const std::string &amp;value)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="41d837bacd66d90ea87af6473316f47f"></a><!-- doxytag: member="restcgi::exception::copy_hdr_flds" ref="41d837bacd66d90ea87af6473316f47f" args="(map_type &amp;map) const " -->
virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classrestcgi_1_1exception.html#41d837bacd66d90ea87af6473316f47f">copy_hdr_flds</a> (<a class="el" href="classrestcgi_1_1exception.html#87e8267cf8b88c09e97b42461e524cdd">map_type</a> &amp;map) const </td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Copy hdr field name and values. <br></td></tr>
<tr><td colspan="2"><br><h2>Static Public Attributes</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="f0ad620fafbb523dceb4b2c7e0132e83"></a><!-- doxytag: member="restcgi::exception::VARIABLE_NAME_PREFIX" ref="f0ad620fafbb523dceb4b2c7e0132e83" args="" -->
static const char *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classrestcgi_1_1exception.html#f0ad620fafbb523dceb4b2c7e0132e83">VARIABLE_NAME_PREFIX</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">variable name prefix ("exception_") <br></td></tr>
<tr><td colspan="2"><br><h2>Protected Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="58c98c2d7ffbc250519c42fc0bde0896"></a><!-- doxytag: member="restcgi::exception::exception_insert" ref="58c98c2d7ffbc250519c42fc0bde0896" args="(const std::string &amp;name, const std::string &amp;value)" -->
bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classrestcgi_1_1exception.html#58c98c2d7ffbc250519c42fc0bde0896">exception_insert</a> (const std::string &amp;name, const std::string &amp;value)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Prefix name and insert with value. <br></td></tr>
</table>
<hr><h2>Member Typedef Documentation</h2>
<a class="anchor" name="87e8267cf8b88c09e97b42461e524cdd"></a><!-- doxytag: member="restcgi::exception::map_type" ref="87e8267cf8b88c09e97b42461e524cdd" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef std::map&lt;std::string, std::string&gt; <a class="el" href="classrestcgi_1_1exception.html#87e8267cf8b88c09e97b42461e524cdd">restcgi::exception::map_type</a>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
map type 
</div>
</div><p>
<hr><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" name="deedf85c1424a1a42030e99e60b2e140"></a><!-- doxytag: member="restcgi::exception::exception" ref="deedf85c1424a1a42030e99e60b2e140" args="(const status_code_e &amp;sc, const std::string &amp;errmsg=&quot;&quot;)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">restcgi::exception::exception           </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classrestcgi_1_1status__code__e.html">status_code_e</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>sc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&nbsp;</td>
          <td class="paramname"> <em>errmsg</em> = <code>&quot;&quot;</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%">  throw ()</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Construct. Note the dervided classes, e.g. <a class="el" href="classrestcgi_1_1not__found.html">not_found</a>, set the arguments automatically. 
</div>
</div><p>
<hr><h2>Member Function Documentation</h2>
<a class="anchor" name="22520e0cf2af78bd14de79ed54783a6c"></a><!-- doxytag: member="restcgi::exception::errmsg" ref="22520e0cf2af78bd14de79ed54783a6c" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const std::string&amp; restcgi::exception::errmsg           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"> const<code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Get errmsg. 
</div>
</div><p>
<a class="anchor" name="f0b8e37d3628c6bb5a8fdc72546eb5e1"></a><!-- doxytag: member="restcgi::exception::inhibit_content" ref="f0b8e37d3628c6bb5a8fdc72546eb5e1" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual bool restcgi::exception::inhibit_content           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"> const<code> [inline, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Inhibit content? Some status codes prohibit the sending of entity content, this indicates exception is for such a status code (e.g. NOT_MODIFIED). 
<p>
Reimplemented in <a class="el" href="classrestcgi_1_1no__content.html#e662de7441b153fcc6d6676ff7e7aee9">restcgi::no_content</a>, <a class="el" href="classrestcgi_1_1reset__content.html#b0b2e5b206ebc3a27cb01957ae7f9a5e">restcgi::reset_content</a>, and <a class="el" href="classrestcgi_1_1not__modified.html#778e7277ed91324409fcc6f23e49d51b">restcgi::not_modified</a>.
</div>
</div><p>
<a class="anchor" name="82a09ec4811808fbc7bcf065ce788397"></a><!-- doxytag: member="restcgi::exception::insert" ref="82a09ec4811808fbc7bcf065ce788397" args="(const std::string &amp;name, const std::string &amp;value)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool restcgi::exception::insert           </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&nbsp;</td>
          <td class="paramname"> <em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&nbsp;</td>
          <td class="paramname"> <em>value</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Insert name and value into map if name not in map, returning whether inserted. Application code can use this, before throwing the exception, for passing variable values to the content template (ctmpl). 
</div>
</div><p>
<a class="anchor" name="a8f7a5ee2cf1148df93a582911288033"></a><!-- doxytag: member="restcgi::exception::map" ref="a8f7a5ee2cf1148df93a582911288033" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classrestcgi_1_1exception.html#87e8267cf8b88c09e97b42461e524cdd">map_type</a>&amp; restcgi::exception::map           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Get map. 
</div>
</div><p>
<a class="anchor" name="49e37ef0d9538570a5f0d536a552970f"></a><!-- doxytag: member="restcgi::exception::status_code" ref="49e37ef0d9538570a5f0d536a552970f" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="classrestcgi_1_1status__code__e.html">status_code_e</a>&amp; restcgi::exception::status_code           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"> const  throw ()<code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Get status code. 
</div>
</div><p>
<a class="anchor" name="fe29703c19541b839f943b448f1953bc"></a><!-- doxytag: member="restcgi::exception::what" ref="fe29703c19541b839f943b448f1953bc" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char* restcgi::exception::what           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"> const  throw ()<code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Get what string. This is the status code, e.g. "304 Not Modified", plus an error message (preceded by a ": "), if any. 
</div>
</div><p>
<hr size="1"><address style="align: right;"><small>Generated on Mon May 18 16:03:19 2009 for restcgi by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.4.7 </small></address>
</body>
</html>
