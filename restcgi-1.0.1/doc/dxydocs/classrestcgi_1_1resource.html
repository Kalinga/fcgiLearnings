<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>restcgi: restcgi::resource Class Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.4.7 -->
<div class="tabs">
  <ul>
    <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
    <li><a href="namespaces.html"><span>Namespaces</span></a></li>
    <li id="current"><a href="annotated.html"><span>Classes</span></a></li>
    <li><a href="files.html"><span>Files</span></a></li>
  </ul></div>
<div class="tabs">
  <ul>
    <li><a href="annotated.html"><span>Class&nbsp;List</span></a></li>
    <li><a href="hierarchy.html"><span>Class&nbsp;Hierarchy</span></a></li>
    <li><a href="functions.html"><span>Class&nbsp;Members</span></a></li>
  </ul></div>
<div class="nav">
<a class="el" href="namespacerestcgi.html">restcgi</a>::<a class="el" href="classrestcgi_1_1resource.html">resource</a></div>
<h1>restcgi::resource Class Reference</h1><!-- doxytag: class="restcgi::resource" --><a href="classrestcgi_1_1resource-members.html">List of all members.</a><hr><a name="_details"></a><h2>Detailed Description</h2>
Base class for REST resource. 
<p>
The application uses this as the base class for its resources or as the base class for proxies for its resources (non-intrusive).<p>
The basic operation of resources is as follows:<ol>
<li>
<a class="el" href="classrestcgi_1_1resource.html#e1185a0357299093ccc2215a9ffec663">locate()</a> is called recursively on this class but on different resource objects to narrow to the resource identified in the method. The application is creating the resource objects as this proceeds. </li>
<li>
On the located resource object, this class's method is called which corresponds with the type in the request: get(), put(), etc. </li>
<li>
This class implements the method, e.g. get(), as series of calls to the derived class, e.g. <a class="el" href="classrestcgi_1_1resource.html#0f4a17762e30156c49871e2d0f06eae6">read()</a>. The method itself can be overridden, but it is usually not necessary. The submethods must be overridden by the derived class to do the actual work. </li>
<li>
Exceptions can be thrown and will be automatically processed. The explicit status exceptions, e.g. <a class="el" href="classrestcgi_1_1bad__request.html">bad_request</a>, will result in the given status returned in the response. </li>
</ol>
<p>
Note that the web server handles the TRACE method without calling the application. <dl compact><dt><b>See also:</b></dt><dd><a href="http://www.w3.org/Protocols/rfc2616/rfc2616-sec9.html">http://www.w3.org/Protocols/rfc2616/rfc2616-sec9.html</a> <p>
<a class="el" href="classrestcgi_1_1rest.html">rest</a> </dd></dl>

<p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Public Types</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="54aabfa948b1bb5d7721ba08684f548d"></a><!-- doxytag: member="restcgi::resource::pointer" ref="54aabfa948b1bb5d7721ba08684f548d" args="" -->
typedef boost::shared_ptr&lt;<br>
 <a class="el" href="classrestcgi_1_1resource.html">resource</a> &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classrestcgi_1_1resource.html#54aabfa948b1bb5d7721ba08684f548d">pointer</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">shared ptr <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="18e9316efc29ff13d0ef45087506d2c2"></a><!-- doxytag: member="restcgi::resource::const_pointer" ref="18e9316efc29ff13d0ef45087506d2c2" args="" -->
typedef boost::shared_ptr&lt;<br>
 const <a class="el" href="classrestcgi_1_1resource.html">resource</a> &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classrestcgi_1_1resource.html#18e9316efc29ff13d0ef45087506d2c2">const_pointer</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">const shared ptr <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="58a2cb8d478cadaa70c877fe0270c5f4"></a><!-- doxytag: member="restcgi::resource::method_type" ref="58a2cb8d478cadaa70c877fe0270c5f4" args="" -->
typedef <a class="el" href="classrestcgi_1_1method.html">restcgi::method</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classrestcgi_1_1resource.html#58a2cb8d478cadaa70c877fe0270c5f4">method_type</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">method type <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="c0ad902eb8143b44707ffcf12ea1b521"></a><!-- doxytag: member="restcgi::resource::method_pointer" ref="c0ad902eb8143b44707ffcf12ea1b521" args="" -->
typedef boost::shared_ptr&lt;<br>
 <a class="el" href="classrestcgi_1_1method.html">method_type</a> &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classrestcgi_1_1resource.html#c0ad902eb8143b44707ffcf12ea1b521">method_pointer</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">method shared ptr <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="a71fcfb8ded963a3646f899d9e708120"></a><!-- doxytag: member="restcgi::resource::uri_path_type" ref="a71fcfb8ded963a3646f899d9e708120" args="" -->
typedef uripp::path&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classrestcgi_1_1resource.html#a71fcfb8ded963a3646f899d9e708120">uri_path_type</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">URI path type. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="5ad6861194b56b1e2a26e0c98d9e6269"></a><!-- doxytag: member="restcgi::resource::uri_info_type" ref="5ad6861194b56b1e2a26e0c98d9e6269" args="" -->
typedef <a class="el" href="classrestcgi_1_1uri__info.html">restcgi::uri_info</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classrestcgi_1_1resource.html#5ad6861194b56b1e2a26e0c98d9e6269">uri_info_type</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight"><a class="el" href="classrestcgi_1_1uri__info.html">uri_info</a> type <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="60df88cf41fda8fcfeb8634c36c05364"></a><!-- doxytag: member="restcgi::resource::version_type" ref="60df88cf41fda8fcfeb8634c36c05364" args="" -->
typedef <a class="el" href="classrestcgi_1_1version.html">restcgi::version</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classrestcgi_1_1resource.html#60df88cf41fda8fcfeb8634c36c05364">version_type</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">version type <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="be84e086540b607b1e8185bb55e3959d"></a><!-- doxytag: member="restcgi::resource::version_tag_type" ref="be84e086540b607b1e8185bb55e3959d" args="" -->
typedef <a class="el" href="classrestcgi_1_1version__tag.html">restcgi::version_tag</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classrestcgi_1_1resource.html#be84e086540b607b1e8185bb55e3959d">version_tag_type</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">version tag type <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="180b73b07c6edea0b721354097680a52"></a><!-- doxytag: member="restcgi::resource::version_constraint_type" ref="180b73b07c6edea0b721354097680a52" args="" -->
typedef <a class="el" href="classrestcgi_1_1version__constraint.html">restcgi::version_constraint</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classrestcgi_1_1resource.html#180b73b07c6edea0b721354097680a52">version_constraint_type</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight"><a class="el" href="classrestcgi_1_1version__constraint.html">version_constraint</a> type <br></td></tr>
<tr><td colspan="2"><br><h2>Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="a7be3125dc957534e6231de8fbe5bac3"></a><!-- doxytag: member="restcgi::resource::method" ref="a7be3125dc957534e6231de8fbe5bac3" args="(method_pointer m)" -->
void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classrestcgi_1_1resource.html#a7be3125dc957534e6231de8fbe5bac3">method</a> (<a class="el" href="classrestcgi_1_1resource.html#c0ad902eb8143b44707ffcf12ea1b521">method_pointer</a> m)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Set method (called before <a class="el" href="classrestcgi_1_1resource.html#e1185a0357299093ccc2215a9ffec663">locate()</a> by rest processing). <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="classrestcgi_1_1resource.html#c0ad902eb8143b44707ffcf12ea1b521">method_pointer</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classrestcgi_1_1resource.html#dc3f42757f9df3d7681b1499c6b5991d">method</a> () const </td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual <a class="el" href="classrestcgi_1_1resource.html#54aabfa948b1bb5d7721ba08684f548d">pointer</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classrestcgi_1_1resource.html#e1185a0357299093ccc2215a9ffec663">locate</a> (<a class="el" href="classrestcgi_1_1resource.html#a71fcfb8ded963a3646f899d9e708120">uri_path_type</a> &amp;path)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classrestcgi_1_1resource.html#48a552cf06918232b338b27f4c53fff7">get_method</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classrestcgi_1_1resource.html#ff4d65c8fe0ba705cb8658f3d17b30db">put_method</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classrestcgi_1_1resource.html#af0fb43a6954265c78be445f3f2e11a9">post_method</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classrestcgi_1_1resource.html#44226040bb70c8525878cf5f182c08dc">del_method</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classrestcgi_1_1resource.html#c79db663b9cd670a63c82af641baba74">options_method</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classrestcgi_1_1resource.html#add1c7ad478bce47410172b256adbbaa">head_method</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="3012f92a14041cf70528c930c338caab"></a><!-- doxytag: member="restcgi::resource::methods_allowed_mask" ref="3012f92a14041cf70528c930c338caab" args="() const " -->
int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classrestcgi_1_1resource.html#3012f92a14041cf70528c930c338caab">methods_allowed_mask</a> () const </td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Get methods-allowed mask. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="1e3b83e03420ffe56699b490c36b2c89"></a><!-- doxytag: member="restcgi::resource::child" ref="1e3b83e03420ffe56699b490c36b2c89" args="() const " -->
<a class="el" href="classrestcgi_1_1resource.html#54aabfa948b1bb5d7721ba08684f548d">pointer</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classrestcgi_1_1resource.html#1e3b83e03420ffe56699b490c36b2c89">child</a> () const </td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Get child pointer (MUST set chain_children in root). <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="af3c569275c72ab1222721625b5aa1fa"></a><!-- doxytag: member="restcgi::resource::parent" ref="af3c569275c72ab1222721625b5aa1fa" args="() const " -->
<a class="el" href="classrestcgi_1_1resource.html#54aabfa948b1bb5d7721ba08684f548d">pointer</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classrestcgi_1_1resource.html#af3c569275c72ab1222721625b5aa1fa">parent</a> () const </td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Get parent pointer (MUST set chain_children in root). <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="b4835c10c0a4b34a242f3fbedbc4e8fd"></a><!-- doxytag: member="restcgi::resource::chain_children" ref="b4835c10c0a4b34a242f3fbedbc4e8fd" args="() const " -->
bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classrestcgi_1_1resource.html#b4835c10c0a4b34a242f3fbedbc4e8fd">chain_children</a> () const </td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Chain children? <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="ec0672d082800a8a42e9129b7fd35d59"></a><!-- doxytag: member="restcgi::resource::child" ref="ec0672d082800a8a42e9129b7fd35d59" args="(pointer rthis, pointer cr)" -->
void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classrestcgi_1_1resource.html#ec0672d082800a8a42e9129b7fd35d59">child</a> (<a class="el" href="classrestcgi_1_1resource.html#54aabfa948b1bb5d7721ba08684f548d">pointer</a> rthis, <a class="el" href="classrestcgi_1_1resource.html#54aabfa948b1bb5d7721ba08684f548d">pointer</a> cr)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Set child. <br></td></tr>
<tr><td colspan="2"><br><h2>Protected Types</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">typedef uripp::query&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classrestcgi_1_1resource.html#3f7e7e538cb45ad5fcf00bdcd2dfdde4">uri_query_type</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">typedef std::pair&lt; <a class="el" href="classrestcgi_1_1resource.html#a71fcfb8ded963a3646f899d9e708120">uri_path_type</a>,<br>
 <a class="el" href="classrestcgi_1_1version.html">version_type</a> &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classrestcgi_1_1resource.html#f95312852cc9ced118703d239df6b99c">id_version_type</a></td></tr>

<tr><td colspan="2"><br><h2>Protected Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classrestcgi_1_1resource.html#43b85ec22241879a7201c9dd862809e9">resource</a> (int methods_allowed_mask, bool chain_children=false)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="5d7dc78d9ddab38b9fcdfb9c096b7336"></a><!-- doxytag: member="restcgi::resource::me" ref="5d7dc78d9ddab38b9fcdfb9c096b7336" args="() const " -->
const <a class="el" href="classrestcgi_1_1method__e.html">method_e</a> &amp;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classrestcgi_1_1resource.html#5d7dc78d9ddab38b9fcdfb9c096b7336">me</a> () const </td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Get method enum, for example <a class="el" href="classrestcgi_1_1method__e.html#b5a25044fccaaf8a5dc1b24722523cc1acb73746d291e220177d7c0aee429006">method_e::GET</a> (valid after <a class="el" href="classrestcgi_1_1resource.html#e1185a0357299093ccc2215a9ffec663">locate()</a>). <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">const <a class="el" href="classrestcgi_1_1uri__info.html">uri_info_type</a> &amp;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classrestcgi_1_1resource.html#6d8af9e7d52eab77d180004393774a3f">uri_info</a> () const </td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="6efe238da09c41f3d432d7a4b49a5c28"></a><!-- doxytag: member="restcgi::resource::version_constraint" ref="6efe238da09c41f3d432d7a4b49a5c28" args="() const " -->
<a class="el" href="classrestcgi_1_1version__constraint.html">version_constraint_type</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classrestcgi_1_1resource.html#6efe238da09c41f3d432d7a4b49a5c28">version_constraint</a> () const </td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Get version constraint (valid after <a class="el" href="classrestcgi_1_1resource.html#e1185a0357299093ccc2215a9ffec663">locate()</a>). <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classrestcgi_1_1resource.html#a3d451d556eb536f528bd0651938894f">default_response</a> (bool v)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual <a class="el" href="classrestcgi_1_1version.html">version_type</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classrestcgi_1_1resource.html#0f4a17762e30156c49871e2d0f06eae6">read</a> (bool veronly)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual <a class="el" href="classrestcgi_1_1version.html">version_type</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classrestcgi_1_1resource.html#63f4ff2353c737041ca67bc6f6eb20a2">update</a> (<a class="el" href="classrestcgi_1_1icontent.html#5541b24d1014e56adaceae1442c51ae7">icontent::pointer</a> ic)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual <a class="el" href="classrestcgi_1_1resource.html#54aabfa948b1bb5d7721ba08684f548d">pointer</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classrestcgi_1_1resource.html#e008d98bfac9779fe05f27b4ce146bc8">create_child</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual <a class="el" href="classrestcgi_1_1resource.html#f95312852cc9ced118703d239df6b99c">id_version_type</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classrestcgi_1_1resource.html#20c40afd2eb4a3f5b97a4853436be515">create</a> (<a class="el" href="classrestcgi_1_1icontent.html#5541b24d1014e56adaceae1442c51ae7">icontent::pointer</a> ic)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classrestcgi_1_1resource.html#2ee3a1530b12227cbc80ac26ccf12cac">del</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classrestcgi_1_1resource.html#c9e493f85354ae8000dc4db8d8ee8e80">on_responding</a> (<a class="el" href="classrestcgi_1_1status__code__e.html">status_code_e</a> &amp;sc, <a class="el" href="classrestcgi_1_1response__hdr.html">response_hdr</a> &amp;rh, <a class="el" href="classrestcgi_1_1content__hdr.html">content_hdr</a> &amp;ch)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classrestcgi_1_1resource.html#2e3c1d01661ca89834d82cf7c786c518">write</a> (<a class="el" href="classrestcgi_1_1ocontent.html#ce8d7bb39340a4371ecfdce905366454">ocontent::pointer</a> oc)</td></tr>

</table>
<hr><h2>Member Typedef Documentation</h2>
<a class="anchor" name="f95312852cc9ced118703d239df6b99c"></a><!-- doxytag: member="restcgi::resource::id_version_type" ref="f95312852cc9ced118703d239df6b99c" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef std::pair&lt;<a class="el" href="classrestcgi_1_1resource.html#a71fcfb8ded963a3646f899d9e708120">uri_path_type</a>, <a class="el" href="classrestcgi_1_1version.html">version_type</a>&gt; <a class="el" href="classrestcgi_1_1resource.html#f95312852cc9ced118703d239df6b99c">restcgi::resource::id_version_type</a><code> [protected]</code>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
id version pair type 
</div>
</div><p>
<a class="anchor" name="3f7e7e538cb45ad5fcf00bdcd2dfdde4"></a><!-- doxytag: member="restcgi::resource::uri_query_type" ref="3f7e7e538cb45ad5fcf00bdcd2dfdde4" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef uripp::query <a class="el" href="classrestcgi_1_1resource.html#3f7e7e538cb45ad5fcf00bdcd2dfdde4">restcgi::resource::uri_query_type</a><code> [protected]</code>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
uri_query type 
</div>
</div><p>
<hr><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" name="43b85ec22241879a7201c9dd862809e9"></a><!-- doxytag: member="restcgi::resource::resource" ref="43b85ec22241879a7201c9dd862809e9" args="(int methods_allowed_mask, bool chain_children=false)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">restcgi::resource::resource           </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>methods_allowed_mask</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&nbsp;</td>
          <td class="paramname"> <em>chain_children</em> = <code>false</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Construct. The methods that this resource supports must be declared by or'ing the corresponding <a class="el" href="classrestcgi_1_1method__e.html">method_e</a> enums into the mask argument, e.g. <a class="el" href="classrestcgi_1_1method__e.html#b5a25044fccaaf8a5dc1b24722523cc1acb73746d291e220177d7c0aee429006">method_e::GET</a> | <a class="el" href="classrestcgi_1_1method__e.html#b5a25044fccaaf8a5dc1b24722523cc1df2516b7369a3e118d4b8240a3ce01b8">method_e::DEL</a>. This base class has default implementations for OPTIONS and HEAD (if GET is implemented), but they must be put into the given mask by the derived class in order for this class to use them. If chain_children is set in root (MUST be root) all resources located along URI path are linked. This will enable the <a class="el" href="classrestcgi_1_1resource.html#1e3b83e03420ffe56699b490c36b2c89">child()</a> and <a class="el" href="classrestcgi_1_1resource.html#af3c569275c72ab1222721625b5aa1fa">parent()</a> methods.<p>
Application programming note: THE MASK MUST BE KEPT IN SYNC WITH METHOD IMPLEMENTATIONS!!! <dl compact><dt><b>See also:</b></dt><dd><a href="http://www.w3.org/Protocols/rfc2616/rfc2616-sec10.html#sec10.4.6">http://www.w3.org/Protocols/rfc2616/rfc2616-sec10.html#sec10.4.6</a> <p>
<a href="http://www.w3.org/Protocols/rfc2616/rfc2616-sec14.html#sec14.7">http://www.w3.org/Protocols/rfc2616/rfc2616-sec14.html#sec14.7</a> </dd></dl>

</div>
</div><p>
<hr><h2>Member Function Documentation</h2>
<a class="anchor" name="20c40afd2eb4a3f5b97a4853436be515"></a><!-- doxytag: member="restcgi::resource::create" ref="20c40afd2eb4a3f5b97a4853436be515" args="(icontent::pointer ic)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual <a class="el" href="classrestcgi_1_1resource.html#f95312852cc9ced118703d239df6b99c">id_version_type</a> restcgi::resource::create           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classrestcgi_1_1icontent.html#5541b24d1014e56adaceae1442c51ae7">icontent::pointer</a>&nbsp;</td>
          <td class="paramname"> <em>ic</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Create the resource from the input content and save to the application store, returning the id and version information. This is called on the child resource for a POST on th parent. The id is a single-segment URI path and is used to set the content-location response hdr field (the parent path plus this child id). If versioning is not being used a null version can be returned.<p>
Default is to throw <a class="el" href="classrestcgi_1_1internal__server__error.html">internal_server_error</a>. <dl compact><dt><b>Exceptions:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>exception</em>&nbsp;</td><td>application can throw any exception </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="e008d98bfac9779fe05f27b4ce146bc8"></a><!-- doxytag: member="restcgi::resource::create_child" ref="e008d98bfac9779fe05f27b4ce146bc8" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual <a class="el" href="classrestcgi_1_1resource.html#54aabfa948b1bb5d7721ba08684f548d">pointer</a> restcgi::resource::create_child           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Create a child resource. This is called for post().<p>
Default is to throw <a class="el" href="classrestcgi_1_1internal__server__error.html">internal_server_error</a>. <dl compact><dt><b>Exceptions:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>exception</em>&nbsp;</td><td>application can throw any exception </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="a3d451d556eb536f528bd0651938894f"></a><!-- doxytag: member="restcgi::resource::default_response" ref="a3d451d556eb536f528bd0651938894f" args="(bool v)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void restcgi::resource::default_response           </td>
          <td>(</td>
          <td class="paramtype">bool&nbsp;</td>
          <td class="paramname"> <em>v</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Set default response. Seting to true causes <a class="el" href="classrestcgi_1_1resource.html#c9e493f85354ae8000dc4db8d8ee8e80">on_responding()</a> and <a class="el" href="classrestcgi_1_1resource.html#2e3c1d01661ca89834d82cf7c786c518">write()</a> methods to be skipped. This is convenient for resources that handle multiple methods when some do not require a custom response. (See above.) 
</div>
</div><p>
<a class="anchor" name="2ee3a1530b12227cbc80ac26ccf12cac"></a><!-- doxytag: member="restcgi::resource::del" ref="2ee3a1530b12227cbc80ac26ccf12cac" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual void restcgi::resource::del           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Delete the resource from the application store.<p>
Default is to throw <a class="el" href="classrestcgi_1_1internal__server__error.html">internal_server_error</a>. <dl compact><dt><b>Exceptions:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>exception</em>&nbsp;</td><td>application can throw any exception </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="44226040bb70c8525878cf5f182c08dc"></a><!-- doxytag: member="restcgi::resource::del_method" ref="44226040bb70c8525878cf5f182c08dc" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual void restcgi::resource::del_method           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Delete this resource.<p>
Unless overridden (usually not necessary), this will call the following methods:<ol>
<li>
If request contained a version constraint:<ol>
<li>
read(veronly=true): Read resource version info from application store (required). </li>
<li>
If version returned, assert constraint (if any) satisfied. </li>
</ol>
</li>
<li>
<a class="el" href="classrestcgi_1_1resource.html#2ee3a1530b12227cbc80ac26ccf12cac">del()</a>: Delete the resource from the application store (required). </li>
<li>
Initialize status code (OK). </li>
<li>
<a class="el" href="classrestcgi_1_1resource.html#c9e493f85354ae8000dc4db8d8ee8e80">on_responding()</a>: Modify status, response hdr (optional). (Not called if default_response set.) </li>
<li>
<a class="el" href="classrestcgi_1_1resource.html#2e3c1d01661ca89834d82cf7c786c518">write()</a>: Write to content stream (optional). (Not called if default_response set.) </li>
</ol>
<dl compact><dt><b>See also:</b></dt><dd><a href="http://www.w3.org/Protocols/rfc2616/rfc2616-sec9.html#sec9.7">http://www.w3.org/Protocols/rfc2616/rfc2616-sec9.html#sec9.7</a> </dd></dl>

</div>
</div><p>
<a class="anchor" name="48a552cf06918232b338b27f4c53fff7"></a><!-- doxytag: member="restcgi::resource::get_method" ref="48a552cf06918232b338b27f4c53fff7" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual void restcgi::resource::get_method           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Respond with a representation of this resource in the output content.<p>
Unless overridden (usually not necessary), this will call the following methods:<ol>
<li>
<a class="el" href="classrestcgi_1_1resource.html#0f4a17762e30156c49871e2d0f06eae6">read()</a>: Read resource from application store (required). </li>
<li>
If version returned, assert constraint (if any) satisfied. </li>
<li>
Initialize status code (OK) and response hdr (with version info). </li>
<li>
<a class="el" href="classrestcgi_1_1resource.html#c9e493f85354ae8000dc4db8d8ee8e80">on_responding()</a>: Modify status, response and content hdrs (optional). (Not called if default_response set.) </li>
<li>
<a class="el" href="classrestcgi_1_1resource.html#2e3c1d01661ca89834d82cf7c786c518">write()</a>: Write to content stream (optional but customary). (Not called if default_response set.) </li>
</ol>
<dl compact><dt><b>See also:</b></dt><dd><a href="http://www.w3.org/Protocols/rfc2616/rfc2616-sec9.html#sec9.3">http://www.w3.org/Protocols/rfc2616/rfc2616-sec9.html#sec9.3</a> </dd></dl>

</div>
</div><p>
<a class="anchor" name="add1c7ad478bce47410172b256adbbaa"></a><!-- doxytag: member="restcgi::resource::head_method" ref="add1c7ad478bce47410172b256adbbaa" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual void restcgi::resource::head_method           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Respond with header fields the same as if this were a get() but do not return output content. The application may be able to optimize the read for the HEAD case.<p>
Unless overridden (usually not necessary), this will call the following methods:<ol>
<li>
<a class="el" href="classrestcgi_1_1resource.html#0f4a17762e30156c49871e2d0f06eae6">read()</a>: Read resource from application store (required). </li>
<li>
If version returned, assert constraint (if any) satisfied. </li>
<li>
Initialize status code (OK) and response hdr (with version info). </li>
<li>
<a class="el" href="classrestcgi_1_1resource.html#c9e493f85354ae8000dc4db8d8ee8e80">on_responding()</a>: Modify status, response and content hdrs (optional). </li>
</ol>
<dl compact><dt><b>See also:</b></dt><dd><a href="http://www.w3.org/Protocols/rfc2616/rfc2616-sec9.html#sec9.4">http://www.w3.org/Protocols/rfc2616/rfc2616-sec9.html#sec9.4</a> </dd></dl>

</div>
</div><p>
<a class="anchor" name="e1185a0357299093ccc2215a9ffec663"></a><!-- doxytag: member="restcgi::resource::locate" ref="e1185a0357299093ccc2215a9ffec663" args="(uri_path_type &amp;path)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual <a class="el" href="classrestcgi_1_1resource.html#54aabfa948b1bb5d7721ba08684f548d">pointer</a> restcgi::resource::locate           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classrestcgi_1_1resource.html#a71fcfb8ded963a3646f899d9e708120">uri_path_type</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>path</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Locate the resource at the given path relative to this and update path. This method provides the main means for navigating to the resource specified by the client in terms of the URI path. The application should organize its resources in a hierarchy (basic REST architecture) which can be descended by repeated calls to this method on the returned resources and the updated path (typically using pop_front() at each step).<p>
Result possibilities: <ol>
<li>
a null pointer is returned and the path is empty then method is performed on this, </li>
<li>
null pointer is returned and path is not empty then a <a class="el" href="classrestcgi_1_1bad__request.html">bad_request</a> exception is automatically thrown, </li>
<li>
pointer to another resource returned then that resource's <a class="el" href="classrestcgi_1_1resource.html#e1185a0357299093ccc2215a9ffec663">locate()</a> method is called if the (potentially) updated path is not empty otherwise the method is performed on that resource.</li>
</ol>
<p>
The default is to perform the method on this, but will result in <a class="el" href="classrestcgi_1_1bad__request.html">bad_request</a> if path is not empty. <dl compact><dt><b>Exceptions:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>exception</em>&nbsp;</td><td>restcgi exceptions are rethrown, others wrapped and rethrown as a <a class="el" href="classrestcgi_1_1bad__request.html">bad_request</a> </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="dc3f42757f9df3d7681b1499c6b5991d"></a><!-- doxytag: member="restcgi::resource::method" ref="dc3f42757f9df3d7681b1499c6b5991d" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classrestcgi_1_1resource.html#c0ad902eb8143b44707ffcf12ea1b521">method_pointer</a> restcgi::resource::method           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"> const<code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Get method (valid before and after <a class="el" href="classrestcgi_1_1resource.html#e1185a0357299093ccc2215a9ffec663">locate()</a>). 
</div>
</div><p>
<a class="anchor" name="c9e493f85354ae8000dc4db8d8ee8e80"></a><!-- doxytag: member="restcgi::resource::on_responding" ref="c9e493f85354ae8000dc4db8d8ee8e80" args="(status_code_e &amp;sc, response_hdr &amp;rh, content_hdr &amp;ch)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual void restcgi::resource::on_responding           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classrestcgi_1_1status__code__e.html">status_code_e</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>sc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classrestcgi_1_1response__hdr.html">response_hdr</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>rh</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classrestcgi_1_1content__hdr.html">content_hdr</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>ch</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Modify status code and response and content hdrs prior to responding. This class sends the response but calls this before doing it so that the derived class can add header fields, e.g. content-type. The version information, if any has already been added to the hdrs. Note methods that do not write output content, e.g. <a class="el" href="classrestcgi_1_1resource.html#2ee3a1530b12227cbc80ac26ccf12cac">del()</a>, will ignore any changes to the <a class="el" href="classrestcgi_1_1content__hdr.html">content_hdr</a>. In other words, the content-type can always be set regardless of method type.<p>
"hello, world" example (see also <a class="el" href="classrestcgi_1_1resource.html#2e3c1d01661ca89834d82cf7c786c518">write()</a>). This is all that is needed here: <div class="fragment"><pre class="fragment"> ch.content_type(<span class="stringliteral">"text/plain"</span>);
</pre></div><p>
If needed, the method type can be checked as follows: <div class="fragment"><pre class="fragment"> <span class="keywordflow">if</span> (<a class="code" href="classrestcgi_1_1resource.html#5d7dc78d9ddab38b9fcdfb9c096b7336">me</a>() == <a class="code" href="classrestcgi_1_1method__e.html#b5a25044fccaaf8a5dc1b24722523cc1acb73746d291e220177d7c0aee429006">method_e::GET</a>) ...
</pre></div><p>
Default is to do nothing (use status code and hdrs as they are). 
</div>
</div><p>
<a class="anchor" name="c79db663b9cd670a63c82af641baba74"></a><!-- doxytag: member="restcgi::resource::options_method" ref="c79db663b9cd670a63c82af641baba74" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual void restcgi::resource::options_method           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Respond with the "options" available for the resource and, optionally, send a representation of the "options" in the output content.<p>
The required, minimum response, and the default behavior of this base class, is to return the Allow header field based on the "methods allowed mask" set at construction and not send content (note that Content-Length must be explicitly set to 0). See RFC. The special case of the URI path "*", essentially a "ping", is handled elsewhere and does not result in a call to any of the resource objects.<p>
Unless overridden (usually not necessary), this will call the following methods:<ol>
<li>
Initialize status code (OK) and response hdr (allow field is set to methods_allowed_mask). </li>
<li>
<a class="el" href="classrestcgi_1_1resource.html#c9e493f85354ae8000dc4db8d8ee8e80">on_responding()</a>: Modify status, response and content hdrs (optional). </li>
</ol>
<dl compact><dt><b>See also:</b></dt><dd><a href="http://www.w3.org/Protocols/rfc2616/rfc2616-sec9.html#sec9.2">http://www.w3.org/Protocols/rfc2616/rfc2616-sec9.html#sec9.2</a> </dd></dl>

</div>
</div><p>
<a class="anchor" name="af0fb43a6954265c78be445f3f2e11a9"></a><!-- doxytag: member="restcgi::resource::post_method" ref="af0fb43a6954265c78be445f3f2e11a9" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual void restcgi::resource::post_method           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Create a subordinate (child) resource with the input content and, optionally, send a representation of the child resource in the output content. Note that the URI path points to the containing (parent) resource which is this resource.<p>
Unless overridden (usually not necessary), this will call the following methods:<ol>
<li>
<a class="el" href="classrestcgi_1_1resource.html#e008d98bfac9779fe05f27b4ce146bc8">create_child()</a>: Create child resource (required). </li>
<li>
On child resource:<ol>
<li>
<a class="el" href="classrestcgi_1_1resource.html#20c40afd2eb4a3f5b97a4853436be515">create()</a>: Create the resource from the input content and save to application store (required). </li>
<li>
Initialize status code (CREATED) and response hdr (with version info and content-location to this uri path appended with the returned id). </li>
<li>
<a class="el" href="classrestcgi_1_1resource.html#c9e493f85354ae8000dc4db8d8ee8e80">on_responding()</a>: Modify status, response and content hdrs (optional). (Not called if child default_response set.) </li>
<li>
<a class="el" href="classrestcgi_1_1resource.html#2e3c1d01661ca89834d82cf7c786c518">write()</a>: Write to content stream (optional). (Not called if child default_response set.) </li>
</ol>
</li>
</ol>
<dl compact><dt><b>See also:</b></dt><dd><a href="http://www.w3.org/Protocols/rfc2616/rfc2616-sec9.html#sec9.5">http://www.w3.org/Protocols/rfc2616/rfc2616-sec9.html#sec9.5</a> </dd></dl>

</div>
</div><p>
<a class="anchor" name="ff4d65c8fe0ba705cb8658f3d17b30db"></a><!-- doxytag: member="restcgi::resource::put_method" ref="ff4d65c8fe0ba705cb8658f3d17b30db" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual void restcgi::resource::put_method           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Update the resource with the input content and, optionally, send a representation of the updated resource in the output content. The resource must already exist and this is designed to change one or more of its attributes.<p>
Unless overridden (usually not necessary), this will call the following methods:<ol>
<li>
<a class="el" href="classrestcgi_1_1resource.html#0f4a17762e30156c49871e2d0f06eae6">read()</a>: Read resource from application store (required). </li>
<li>
If version returned, assert constraint (if any) satisfied. </li>
<li>
<a class="el" href="classrestcgi_1_1resource.html#63f4ff2353c737041ca67bc6f6eb20a2">update()</a>: Update the resource from the input content and save to application store (required). </li>
<li>
Initialize status code (OK) and response hdr (with version info). </li>
<li>
<a class="el" href="classrestcgi_1_1resource.html#c9e493f85354ae8000dc4db8d8ee8e80">on_responding()</a>: Modify status, response and content hdrs (optional). (Not called if default_response set.) </li>
<li>
<a class="el" href="classrestcgi_1_1resource.html#2e3c1d01661ca89834d82cf7c786c518">write()</a>: Write to content stream (optional). (Not called if default_response set.) </li>
</ol>
<dl compact><dt><b>See also:</b></dt><dd><a href="http://www.w3.org/Protocols/rfc2616/rfc2616-sec9.html#sec9.6">http://www.w3.org/Protocols/rfc2616/rfc2616-sec9.html#sec9.6</a> </dd></dl>

</div>
</div><p>
<a class="anchor" name="0f4a17762e30156c49871e2d0f06eae6"></a><!-- doxytag: member="restcgi::resource::read" ref="0f4a17762e30156c49871e2d0f06eae6" args="(bool veronly)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual <a class="el" href="classrestcgi_1_1version.html">version_type</a> restcgi::resource::read           </td>
          <td>(</td>
          <td class="paramtype">bool&nbsp;</td>
          <td class="paramname"> <em>veronly</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Read the attributes of the resource from the application store and return the current version information. This is called for get(), put(), <a class="el" href="classrestcgi_1_1resource.html#2ee3a1530b12227cbc80ac26ccf12cac">del()</a>, and head(). But, note that for <a class="el" href="classrestcgi_1_1resource.html#2ee3a1530b12227cbc80ac26ccf12cac">del()</a> this is only called if there is a version constraint and then <code>veronly</code> is set to true to indicate that all the attributes are not needed. For head() the application may be able to optimize the resource read. If versioning is not being used a null version can be returned and constraints will be ignored.<p>
Default is to throw <a class="el" href="classrestcgi_1_1internal__server__error.html">internal_server_error</a>. <dl compact><dt><b>Exceptions:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>exception</em>&nbsp;</td><td>application can throw any exception </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="63f4ff2353c737041ca67bc6f6eb20a2"></a><!-- doxytag: member="restcgi::resource::update" ref="63f4ff2353c737041ca67bc6f6eb20a2" args="(icontent::pointer ic)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual <a class="el" href="classrestcgi_1_1version.html">version_type</a> restcgi::resource::update           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classrestcgi_1_1icontent.html#5541b24d1014e56adaceae1442c51ae7">icontent::pointer</a>&nbsp;</td>
          <td class="paramname"> <em>ic</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Update the attributes of the resource and save to the application store, returning the new version information. This is called for put(). If versioning is not being used a null version can be returned.<p>
Default is to throw <a class="el" href="classrestcgi_1_1internal__server__error.html">internal_server_error</a>. <dl compact><dt><b>Exceptions:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>exception</em>&nbsp;</td><td>application can throw any exception </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="6d8af9e7d52eab77d180004393774a3f"></a><!-- doxytag: member="restcgi::resource::uri_info" ref="6d8af9e7d52eab77d180004393774a3f" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="classrestcgi_1_1uri__info.html">uri_info_type</a>&amp; restcgi::resource::uri_info           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"> const<code> [inline, protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Get URI info (valid after <a class="el" href="classrestcgi_1_1resource.html#e1185a0357299093ccc2215a9ffec663">locate()</a>). 
</div>
</div><p>
<a class="anchor" name="2e3c1d01661ca89834d82cf7c786c518"></a><!-- doxytag: member="restcgi::resource::write" ref="2e3c1d01661ca89834d82cf7c786c518" args="(ocontent::pointer oc)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual void restcgi::resource::write           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classrestcgi_1_1ocontent.html#ce8d7bb39340a4371ecfdce905366454">ocontent::pointer</a>&nbsp;</td>
          <td class="paramname"> <em>oc</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Write the resouce as an output content stream. Called by get(), post() on the child, and put(). Note that exceptions are ignored here because the response hdr has already been sent.<p>
"hello, world" example, continued: <div class="fragment"><pre class="fragment"> *oc &lt;&lt; <span class="stringliteral">"hello, world!"</span>;
</pre></div><p>
Default is to do nothing (send no content). 
</div>
</div><p>
<hr size="1"><address style="align: right;"><small>Generated on Mon May 18 16:03:19 2009 for restcgi by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.4.7 </small></address>
</body>
</html>
